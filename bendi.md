
## 如何在本地使用此项目编译自己需要的 OpenWrt 固件

### 注意：
- 不要用 root 用户！！！
- github已筑墙,所以国内用户编译全程都需要梯子,请准备好梯子,使用大陆白名单或全局模式
- 请使用Ubuntu 64bit，推荐 Ubuntu 18 或 Ubuntu 20

### 一键脚本:

- 使用非root用户登录您的ubuntu系统,执行以下代码即可:

- 首次编译:
```
wget -O compile.sh https://raw.githubusercontent.com/281677160/common/main/compile.sh && chmod -R +x compile.sh && bash compile.sh
```

- 二次编译:
```
bash openwrt/recompile.sh
```

- 编译完成后，固件在openwrt/bin/targets/对应机型文件夹里面

---

问：进入一键本地编译系统后叫我选择编译源码，我该任何选择？<br />
答：我[这里](https://github.com/danshui-git/shuoming/blob/master/%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D%E6%96%B0%E8%84%9A%E6%9C%AC.md)作了简单介绍，当然本地编译是不支持自建文件夹来增加机型的，云编译你们拉取了我仓库后可以随便自建。<br />
#

问：设置openwrt的IP地址是什么意思？<br />
答：这个地址就是用来登录你openwrt用的，需要什么IP是根据你个人需要，固件编译完成，你安装好固件后，在浏览器输入此IP就可以登录openwrt了，默认帐号是root，默认密码为空。<br />
#

问：询问我是否需要选择机型和增删插件，是什么意思？<br />
答：在我设置里面每个源码默认编译都是x86-64的机型固件，不适合所有人的，这个就是进入设置界面，如果你设置需要就输入‘大小写的Y都可以，按回车确认’，等脚本运行到此步骤就自动弹出窗口，如果不需要就直接按回车就跳过了，《[youtube大神的固件配置视频教程](https://www.youtube.com/watch?v=jEE_J6-4E3Y)》视频跟不上源码的节奏的，你也不能按视频操作，就看看在那里修改机型，那里增加减少插件，增加主题就好了。
#

问：询问我是否把定时更新插件编译进固件，是什么意思？<br />
答：这个在本地编译增加就是个娱乐的，因为我云编译程序是会自动把固件传送到指定位置，安装好固件后就能检测了，本地编译想用的话，只能编译好又手动传到指定位置，就给闲的蛋痛的人玩的，怎么在本地编译又能自动传github的指定位置，这个我不会啊，有懂的可以把代码贡献一下的，谢谢！
#

问：二次编译的时候询问我是否更换源码，是什么意思？<br />
答：就字面上的意思，比如你首次编译的时候选择的是Lede_source源码，你玩腻了，想换其他源码编译就可以换呗，不过得考虑清楚了，换源码后就是把你现有的源码删除再下载编译，就会是首次编译了，需要的时间比较长，或者源码用久了，比较老，也可以用这个操作重新下载源码再编译的。
#

问：二次编译的时间需要那么长呢？人家都几分钟，几十分钟就可以，我要1-2个小时？<br />
答：因为每次编译都更新最新插件，不更新最新插件的话，二次编译只能是增删点插件的固件了，好像没啥意思啊，用什么方法可以在更新插件的同时也几分钟几十分钟搞定，我真不会，我还尝试了把源码也更新了，结果是，每次编译都跟首次编译时间差不多就没搞了，这个也是不知道替换什么文件能达到源码又更新了，编译时间又不会增加，有懂的说说呗，感谢！
#

问：使用什么梯子编译比较好？<br />
答：这个我真没啥好建议啊，我就说说我测试用的4个机场为例吧。<br />

<1> 第一个机场18元一个月，此机场看4K，打开网页都杠杠的，速度很快，但是用来编译的时候只有50%概率能成功，因为下载DL步骤很经常下载不完整，在这个步骤下载不完整就不需要进行编译了，我每个步骤都有文字说明，第一次编译要认真看。<br />

<2> 第二个机场9元一个月的，这个机场100%编译不成功，下载源码都经常下载不了，别说下载DL的时候了，100%下载不完整。<br />

<3> 第三个机场6.66元买的一个月，这个机场可以编译成功，就是下载DL的时候需要30分钟时间，太久了，下载源码也慢，所以我去买了第四个机场，这个机场第三天回来看看的时候居然跑路了，握草。<br />

<4> 第四个机场2.99元买的一个月，这个机场99%编译成功，下载速度快，用着舒服，虽然限速150M，量也才50G，我用这机场测试了3天，量就用完了，所以本地编译也需要很大成本滴。<br />
